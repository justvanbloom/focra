{% extends 'base.html' %} 
{% load staticfiles %} 
{% block title %}
{{ crawler.crawlerName }}
{% endblock %} 
{% block body_block %}

<br />
<div id="info" class="well well-lg">
	{% if crawler.crawlerStatus == 'running' %}
	<h2 id="display">{{ crawler.crawlerName }} is {{ crawler.crawlerStatus }}</h2>
	<button id="startBn" type="button" class="btn btn-success" disabled>Start
		Crawler</button>
	<button id="stopBn" type="button" class="btn btn-danger">Stop
		Crawler</button>
	{% else %}
	<h2 id="display">{{ crawler.crawlerName }} has been {{ crawler.crawlerStatus }}</h2>
	<button id="startBn" type="button" class="btn btn-success">Start
		Crawler</button>
	<button id="stopBn" type="button" class="btn btn-danger" disabled>Stop
		Crawler</button>
	{% endif %}

	<button id="babyCrawler" type="button" class="btn btn-primary">Create
		Baby Crawler</button>
	<div class="btn-group">
		<button type="button" class="btn btn-default">Select Start
			Links From</button>
		<button type="button" class="btn btn-default dropdown-toggle"
			data-toggle="dropdown" aria-expanded="false">
			<span class="caret"></span> <span class="sr-only">Toggle
				Dropdown</span>
		</button>

		<ul class="dropdown-menu" role="menu">
			{% for field in fields_w_link %}
			<li><a href="/baby/{{ field }}">{{ field }}</a></li> 
			{% endfor %}
		</ul>
	</div>

</div>

<div role="tabpanel">

	<ul class="nav nav-tabs" role="tablist">
		<li id="monitor_tab" role="presentation" class="active"><a
			href="#monitor" aria-controls="monitor" role="tab" data-toggle="tab">Monitor</a></li>
		<li id="data_tab" role="presentation"><a href="#data"
			aria-controls="data" role="tab" data-toggle="tab">Data</a></li>
		<li id="settings_tab" role="presentation"><a href="#settings"
			aria-controls="settings" role="tab" data-toggle="tab">Settings</a></li>
	</ul>

	<div class="tab-content">
		<div role="tabpanel" class="tab-pane active" id="monitor">

			<table class="table table-striped table-bordered">
				{% for seed in crawler.crawlerSeeds %}
				<tr>
					<td colspan="2">Link: {{ seed }}</td>
				</tr>
				{% endfor %}
				<tr>
					<td colspan="2">Pager: {{ crawler.crawlerPager }}</td>
				</tr>
				
				{% for key, value in ordered_template_field.items %}
				<tr>
					<td>{{ key }} :</td>
					<td><input type="text" value="{{ value }}" size="80"></td>
				</tr>
				{% endfor %}
			</table>

		</div>

		<div role="tabpanel" class="tab-pane fade table-responsive" id="data">
			<br />
			<table id="crawlerData" class="table table-bordered"
				style="width: 100%">
				<tr>
					{% for key in ordered_template_field.keys %}
					<th class="fields">{{ key }}</th> 
					{% endfor %}
				</tr>
			</table>
			<nav>
				<ul class="pagination">
					<li><a href="#" aria-label="Previous"> <span
							aria-hidden="true">&laquo;</span>
					</a></li>
					<li><a href="#">1</a></li>
					<li><a href="#">2</a></li>
					<li><a href="#">3</a></li>
					<li><a href="#">4</a></li>
					<li><a href="#">5</a></li>
					<li><a href="#" aria-label="Next"> <span
							aria-hidden="true">&raquo;</span>
					</a></li>
				</ul>
			</nav>
		</div>

		<div role="tabpanel" class="tab-pane fade" id="settings">
			<br />
			<form id="delete" method="post" action="/delete">
				{% csrf_token %} {% if crawler.crawlerStatus == 'running' %}
				<button id="deleteBn" class="btn btn-danger" type="submit"
					data-toggle="tooltip" data-placement="top" title="Delete Crawler"
					disabled>Delete Crawler</button>
				{% else %}
				<button id="deleteBn" class="btn btn-danger" type="submit"
					data-toggle="tooltip" data-placement="top" title="Delete Crawler">Delete
					Crawler</button>
				{% endif %}
			</form>

		</div>
	</div>

</div>
{% endblock %}
